name: Validate Advanced Missions

on:
  push:
    branches: ['*']
  pull_request:
    branches: ['*']

jobs:
  validate-screenshots:
    name: Validate Advanced Missions Screenshots
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Check screenshots folder exists
        run: |
          echo "ğŸ“ æª¢æŸ¥ screenshots è³‡æ–™å¤¾æ˜¯å¦å­˜åœ¨"
          if [ -d "screenshots" ]; then
            echo "âœ… screenshots è³‡æ–™å¤¾å­˜åœ¨"
          else
            echo "âš ï¸ screenshots è³‡æ–™å¤¾ä¸å­˜åœ¨ï¼Œè·³éé€²éšä»»å‹™é©—è­‰"
            echo "ğŸ’¡ æç¤ºï¼šå¦‚æœæ‚¨åªå®Œæˆåˆéšä»»å‹™ (LV1)ï¼Œå¯ä»¥å¿½ç•¥æ­¤æª¢æŸ¥"
            echo "SKIP_VALIDATION=true" >> $GITHUB_ENV
          fi

      - name: Check screenshot 01 - Register
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 1ï¼šæª¢æŸ¥è¨»å†ŠæˆåŠŸæˆªåœ–"
          if [ -f "screenshots/01-register.png" ] || [ -f "screenshots/01-register.jpg" ] || [ -f "screenshots/01-register.jpeg" ]; then
            echo "âœ… é€šéï¼š01-register æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/01-register.pngï¼ˆå…©å€‹å¸³è™Ÿè¨»å†ŠæˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 02 - Add Credit Package
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 2ï¼šæª¢æŸ¥æ–°å¢çµ„åˆåŒ…æ–¹æ¡ˆæˆªåœ–"
          if [ -f "screenshots/02-add-credit-package.png" ] || [ -f "screenshots/02-add-credit-package.jpg" ] || [ -f "screenshots/02-add-credit-package.jpeg" ]; then
            echo "âœ… é€šéï¼š02-add-credit-package æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/02-add-credit-package.pngï¼ˆDBeaver æ–°å¢çµ„åˆåŒ…æ–¹æ¡ˆæˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 03 - Add Skill
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 3ï¼šæª¢æŸ¥æ–°å¢æŠ€èƒ½æˆªåœ–"
          if [ -f "screenshots/03-add-skill.png" ] || [ -f "screenshots/03-add-skill.jpg" ] || [ -f "screenshots/03-add-skill.jpeg" ]; then
            echo "âœ… é€šéï¼š03-add-skill æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/03-add-skill.pngï¼ˆå¾Œå°æ–°å¢æŠ€èƒ½æˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 04 - Upgrade Coach
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 4ï¼šæª¢æŸ¥å‡ç´šæ•™ç·´æˆªåœ–"
          if [ -f "screenshots/04-upgrade-coach.png" ] || [ -f "screenshots/04-upgrade-coach.jpg" ] || [ -f "screenshots/04-upgrade-coach.jpeg" ]; then
            echo "âœ… é€šéï¼š04-upgrade-coach æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/04-upgrade-coach.pngï¼ˆæ•™ç·´è³‡æ ¼ç®¡ç†å‡ç´šæˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 05 - Create Course
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 5ï¼šæª¢æŸ¥æ•™ç·´é–‹èª²æˆªåœ–"
          if [ -f "screenshots/05-create-course.png" ] || [ -f "screenshots/05-create-course.jpg" ] || [ -f "screenshots/05-create-course.jpeg" ]; then
            echo "âœ… é€šéï¼š05-create-course æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/05-create-course.pngï¼ˆæ•™ç·´é–‹èª²æˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 06 - Buy Credits
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 6ï¼šæª¢æŸ¥è³¼è²·å ‚æ•¸æˆªåœ–"
          if [ -f "screenshots/06-buy-credits.png" ] || [ -f "screenshots/06-buy-credits.jpg" ] || [ -f "screenshots/06-buy-credits.jpeg" ]; then
            echo "âœ… é€šéï¼š06-buy-credits æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/06-buy-credits.pngï¼ˆå­¸å“¡è³¼è²·å ‚æ•¸æˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 07 - Book Course
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 7ï¼šæª¢æŸ¥é ç´„èª²ç¨‹æˆªåœ–"
          if [ -f "screenshots/07-book-course.png" ] || [ -f "screenshots/07-book-course.jpg" ] || [ -f "screenshots/07-book-course.jpeg" ]; then
            echo "âœ… é€šéï¼š07-book-course æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/07-book-course.pngï¼ˆå­¸å“¡é ç´„èª²ç¨‹æˆåŠŸï¼‰"
            exit 1
          fi

      - name: Check screenshot 08 - Booking Record
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo "ğŸ“‹ æˆªåœ– 8ï¼šæª¢æŸ¥é ç´„ç´€éŒ„æˆªåœ–"
          if [ -f "screenshots/08-booking-record.png" ] || [ -f "screenshots/08-booking-record.jpg" ] || [ -f "screenshots/08-booking-record.jpeg" ]; then
            echo "âœ… é€šéï¼š08-booking-record æˆªåœ–å·²ä¸Šå‚³"
          else
            echo "âŒ å¤±æ•—ï¼šè«‹ä¸Šå‚³ screenshots/08-booking-record.pngï¼ˆé ç´„ç´€éŒ„ç•«é¢ï¼‰"
            exit 1
          fi

      - name: All advanced missions completed
        if: env.SKIP_VALIDATION != 'true'
        run: |
          echo ""
          echo "ğŸ‰ğŸ‰ğŸ‰ æ­å–œï¼é€²éšä»»å‹™æˆªåœ–å…¨éƒ¨ä¸Šå‚³å®Œæˆï¼ğŸ‰ğŸ‰ğŸ‰"
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘              é€²éšä»»å‹™æˆªåœ–é©—è­‰çµæœ                       â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  æˆªåœ– 1ï¼šå…©å€‹å¸³è™Ÿè¨»å†ŠæˆåŠŸ              âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 2ï¼šDBeaver æ–°å¢çµ„åˆåŒ…æ–¹æ¡ˆæˆåŠŸ    âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 3ï¼šå¾Œå°æ–°å¢æŠ€èƒ½æˆåŠŸ              âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 4ï¼šæ•™ç·´è³‡æ ¼ç®¡ç†å‡ç´šæˆåŠŸ          âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 5ï¼šæ•™ç·´é–‹èª²æˆåŠŸ                  âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 6ï¼šå­¸å“¡è³¼è²·å ‚æ•¸æˆåŠŸ              âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 7ï¼šå­¸å“¡é ç´„èª²ç¨‹æˆåŠŸ              âœ… å·²ä¸Šå‚³        â•‘"
          echo "â•‘  æˆªåœ– 8ï¼šé ç´„ç´€éŒ„ç•«é¢                  âœ… å·²ä¸Šå‚³        â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  âœ… å…¨éƒ¨ 8 å¼µæˆªåœ–å·²ä¸Šå‚³ï¼                               â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          echo "ğŸ† æ­å–œå®Œæˆ LV2 é€²éšä»»å‹™ï¼"

      - name: Skip message
        if: env.SKIP_VALIDATION == 'true'
        run: |
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘              é€²éšä»»å‹™æˆªåœ–é©—è­‰çµæœ                       â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘  âš ï¸  æœªåµæ¸¬åˆ° screenshots è³‡æ–™å¤¾                        â•‘"
          echo "â•‘                                                        â•‘"
          echo "â•‘  å¦‚æœæ‚¨åªå®Œæˆ LV1 åˆéšä»»å‹™ï¼Œå¯ä»¥å¿½ç•¥æ­¤è¨Šæ¯              â•‘"
          echo "â•‘  å¦‚æœæ‚¨è¦å®Œæˆ LV2 é€²éšä»»å‹™ï¼Œè«‹ï¼š                        â•‘"
          echo "â•‘  1. å»ºç«‹ screenshots è³‡æ–™å¤¾                            â•‘"
          echo "â•‘  2. ä¸Šå‚³ 8 å¼µæˆªåœ–ï¼ˆ01-register.png ~ 08-booking-record.pngï¼‰â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
